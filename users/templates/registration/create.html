{% extends 'base.html' %}

{% load i18n %}
{% get_current_language as LANGUAGE_CODE %}

{% block content %}
<h1 class="my-4">{% if 'update' in request.path %}{% trans 'User change' %}{% else %}{% trans 'Registration' %}{% endif %}</h1>      

<form method="post">
    {% csrf_token %}     
    {% if form.errors %}  
        {% for field in form %}            
            {% if field.name == 'first_name' %}
                {% if field.errors %}
                    <div class="form-group is-invalid">
                        <label for="id_first_name">{%trans 'First name' %}</label>
                        <input placeholder="{%trans 'First name' %}" type="text" name="first_name" maxlength="150" class="form-control is-invalid" title="" required="" id="id_first_name">
                        {% for error in field.errors %}                
                            <div class="invalid-feedback">{{ error|escape }}</div>                
                        {% endfor %}
                    </div>                    
                {% else %}
                    <div class="form-group is-valid">
                        <label for="id_first_name">{%trans 'First name' %}</label>
                        <input placeholder="{%trans 'First name' %}" type="text" name="first_name" maxlength="150" class="form-control is-valid" title="" required="" id="id_first_name">
                    </div>
                {% endif %}
            {% endif %}
            {% if field.name == 'last_name' %}
                {% if field.errors %}  
                    <div class="form-group is-invalid">
                        <label for="id_last_name">{%trans 'Last name' %}</label>
                        <input placeholder="{%trans 'Last name' %}" type="text" name="last_name" maxlength="150" class="form-control is-invalid" title="" required="" id="id_last_name">
                        {% for error in field.errors %}                
                            <div class="invalid-feedback">{{ error|escape }}</div>                
                        {% endfor %}
                    </div>                              
                {% else %}
                    <div class="form-group is-valid">
                        <label for="id_last_name">{%trans 'Last name' %}</label>
                        <input placeholder="{%trans 'Last name' %}" type="text" name="last_name" maxlength="150" class="form-control is-valid" title="" required="" id="id_last_name">
                    </div>                
                {% endif %}
            {% endif %}
            {% if field.name == 'username' %}
                {% if field.errors %}        
                    <div class="form-group is-invalid">
                        <label for="id_username">{%trans 'Username' %}</label>
                        <input placeholder="{%trans 'Username' %}" title="{%trans 'Required field. No more than 150 characters. Letters, numbers and symbols (@/./+/-/_.) only' %}" type="text" name="username" maxlength="150" autofocus="" class="form-control is-invalid" required="" id="id_username">
                         {% for error in field.errors %}                
                            <div class="invalid-feedback">{{ error|escape }}</div>                
                        {% endfor %}
                        <small class="form-text text-muted">{%trans 'Required field. No more than 150 characters. Letters, numbers and symbols (@/./+/-/_.) only' %}</small>
                    </div>                      
                {% else %}   
                    <div class="form-group is-valid">
                        <label for="id_username">{%trans 'Username' %}</label>
                        <input placeholder="{%trans 'Username' %}" title="{%trans 'Required field. No more than 150 characters. Letters, numbers and symbols (@/./+/-/_.) only' %}" type="text" name="username" maxlength="150" autofocus="" class="form-control is-valid" required="" id="id_username">
                        <small class="form-text text-muted">{%trans 'Required field. No more than 150 characters. Letters, numbers and symbols (@/./+/-/_.) only' %}</small>
                    </div>               
                {% endif %}
            {% endif %}
            {% if field.name == 'password1' %}
                {% if field.errors %}   
                    <div class="form-group is-invalid">
                        <label for="id_password1">{%trans 'Password' %}</label>
                        <input placeholder="{%trans 'Password' %}" title="{%trans 'Your password must be at least 3 characters.' %}" type="password" name="password1" autocomplete="new-password" class="form-control is-invalid" required="" id="id_password1">
                        {% for error in field.errors %}                
                            <div class="invalid-feedback">{{ error|escape }}</div>                
                        {% endfor %}
                        <small class="form-text text-muted"><ul><li>{%trans 'Your password must be at least 3 characters.' %}</li></ul></small>                        
                    </div>                                
                {% else %}      
                    <div class="form-group is-valid">
                        <label for="id_password1">{%trans 'Password' %}</label>
                        <input placeholder="{%trans 'Password' %}" title="{%trans 'Your password must be at least 3 characters.' %}" type="password" name="password1" autocomplete="new-password" class="form-control is-valid" required="" id="id_password1">
                        <small class="form-text text-muted"><ul><li>{%trans 'Your password must be at least 3 characters.' %}</li></ul></small>
                    </div>                      
                {% endif %}
            {% endif %}
            {% if field.name == 'password2' %}            
                {% if field.errors %}         
                    <div class="form-group is-invalid">
                        <label for="id_password2">{%trans 'Confirm password' %}</label>
                        <input class="form-control is-invalid" 
                                placeholder="{%trans 'Confirm password' %}" 
                                title="{%trans 'To confirm, please enter the password again.' %}" 
                                type="password" 
                                name="password2" 
                                autocomplete="new-password" 
                                required="" id="id_password2">             
                        {% for error in field.errors %}                
                            <div class="invalid-feedback">{{ error|escape }}</div>                
                        {% endfor %}
                        <small class="form-text text-muted">{%trans 'To confirm, please enter the password again.' %}</small>                       
                    </div>                        
                {% else %} 
                    <div class="form-group is-valid">
                        <label for="id_password2">{%trans 'Confirm password' %}</label>
                        <input class="form-control is-valid" 
                                placeholder="{%trans 'Confirm password' %}" 
                                title="{%trans 'To confirm, please enter the password again.' %}" 
                                type="password" 
                                name="password2" 
                                autocomplete="new-password" 
                                required="" id="id_password2">             
                        <small class="form-text text-muted">{%trans 'To confirm, please enter the password again.' %}</small>                       
                    </div>                
                {% endif %}
            {% endif %}
        {% endfor %}    
    {% else %}
    <div class="form-group">
        <label for="id_first_name">{%trans 'First name' %}</label>
        <input placeholder="{%trans 'First name' %}" type="text" name="first_name" maxlength="150" class="form-control" title="" required="" id="id_first_name">
    </div>
    <div class="form-group">
        <label for="id_last_name">{%trans 'Last name' %}</label>
        <input placeholder="{%trans 'Last name' %}" type="text" name="last_name" maxlength="150" class="form-control" title="" required="" id="id_last_name">
    </div>
    <div class="form-group">
        <label for="id_username">{%trans 'Username' %}</label>
        <input placeholder="{%trans 'Username' %}" title="{%trans 'Required field. No more than 150 characters. Letters, numbers and symbols (@/./+/-/_.) only' %}" type="text" name="username" maxlength="150" autofocus="" class="form-control" required="" id="id_username">
        <small class="form-text text-muted">{%trans 'Required field. No more than 150 characters. Letters, numbers and symbols (@/./+/-/_.) only' %}</small>
    </div>
    <div class="form-group">
        <label for="id_password1">{%trans 'Password' %}</label>
        <input placeholder="{%trans 'Password' %}" title="{%trans 'Your password must be at least 3 characters.' %}" type="password" name="password1" autocomplete="new-password" class="form-control" required="" id="id_password1">
        <small class="form-text text-muted"><ul><li>{%trans 'Your password must be at least 3 characters.' %}</li></ul></small>
    </div>    
    <div class="form-group">
        <label for="id_password2">{%trans 'Confirm password' %}</label>
        <input class="form-control" 
                placeholder="{%trans 'Confirm password' %}" 
                title="{%trans 'To confirm, please enter the password again.' %}" 
                type="password" 
                name="password2" 
                autocomplete="new-password" 
                required="" id="id_password2">             
        <small class="form-text text-muted">{%trans 'To confirm, please enter the password again.' %}</small>       
    </div> 
    {% endif %}

    <div class="form-group">
        <input class="btn btn-primary" type="submit" value="{% if 'update' in request.path %}{%trans 'Edit' %}{% else %}{%trans 'Submit' %}{% endif %}">                        
    </div>
</form>
{% endblock %}
